{"ast":null,"code":"var _jsxFileName = \"C:\\\\Eigene Dateien\\\\Datafest\\\\DataFest_GeoChallenge\\\\openstreetmap-jsx-demo\\\\src\\\\OpenStreetMap.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\n\n// Main OpenStreetMap Component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OpenStreetMap = () => {\n  _s();\n  const mapContainerRef = useRef(null);\n  const mapRef = useRef(null);\n  const markersRef = useRef([]);\n  const [coordinates, setCoordinates] = useState([51.505, -0.09]);\n  const [zoom, setZoom] = useState(13);\n  const [isMapLoaded, setIsMapLoaded] = useState(false);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n\n  // Predefined locations\n  const locations = {\n    berlin: {\n      center: [52.5100, 13.4000],\n      zoom: 12,\n      label: \"Berlin\"\n    },\n    bremen: {\n      center: [53.075, 8.807],\n      zoom: 13,\n      label: \"Bremen\"\n    },\n    cologne: {\n      center: [50.9383, 6.9599],\n      zoom: 12,\n      label: \"Cologne\"\n    },\n    dortmund: {\n      center: [51.5142, 7.4652],\n      zoom: 11,\n      label: \"Dortmund\"\n    },\n    dresden: {\n      center: [51.0493, 13.7381],\n      zoom: 12,\n      label: \"Dresden\"\n    },\n    duisburg: {\n      center: [51.4349, 6.7595],\n      zoom: 13,\n      label: \"Duisburg\"\n    },\n    duesseldorf: {\n      center: [51.225, 6.7763],\n      zoom: 13,\n      label: \"Düsseldorf\"\n    },\n    essen: {\n      center: [51.4582, 7.0158],\n      zoom: 12,\n      label: \"Essen\"\n    },\n    frankfurt: {\n      center: [50.1106, 8.6820],\n      zoom: 11,\n      label: \"Frankfurt\"\n    },\n    hamburg: {\n      center: [53.5503, 10.0006],\n      zoom: 12,\n      label: \"Hamburg\"\n    },\n    hannover: {\n      center: [52.3744, 9.7385],\n      zoom: 13,\n      label: \"Hannover\"\n    },\n    leipzig: {\n      center: [51.3406, 12.3747],\n      zoom: 12,\n      label: \"Leipzig\"\n    },\n    munich: {\n      center: [48.1371, 11.5753],\n      zoom: 12,\n      label: \"Munich\"\n    },\n    nuremberg: {\n      center: [49.4538, 11.0772],\n      zoom: 12,\n      label: \"Nuremberg\"\n    },\n    stuttgart: {\n      center: [48.7784, 9.1800],\n      zoom: 12,\n      label: \"Stuttgart\"\n    }\n  };\n\n  // Load Leaflet scripts and styles\n  useEffect(() => {\n    // Skip if already loaded\n    if (window.L) {\n      setIsMapLoaded(true);\n      return;\n    }\n\n    // Create link for Leaflet CSS\n    const linkElement = document.createElement('link');\n    linkElement.rel = 'stylesheet';\n    linkElement.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';\n    linkElement.integrity = 'sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=';\n    linkElement.crossOrigin = '';\n    document.head.appendChild(linkElement);\n\n    // Create script for Leaflet JS\n    const scriptElement = document.createElement('script');\n    scriptElement.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';\n    scriptElement.integrity = 'sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=';\n    scriptElement.crossOrigin = '';\n    scriptElement.onload = () => {\n      setIsMapLoaded(true);\n    };\n    document.head.appendChild(scriptElement);\n\n    // Cleanup function\n    return () => {\n      document.head.removeChild(linkElement);\n      if (document.head.contains(scriptElement)) {\n        document.head.removeChild(scriptElement);\n      }\n      if (mapRef.current) {\n        mapRef.current.remove();\n      }\n    };\n  }, []);\n\n  // Initialize map when Leaflet is loaded\n  useEffect(() => {\n    if (!isMapLoaded || !mapContainerRef.current) return;\n\n    // Initialize map if not already created\n    if (!mapRef.current) {\n      const L = window.L; // Get Leaflet from window object\n      mapRef.current = L.map(mapContainerRef.current, {\n        zoomControl: false // Disable default zoom control to add custom position\n      }).setView(coordinates, zoom);\n\n      // Add custom tile layer for a cleaner \"Flächenatlas\" style\n      L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\n        subdomains: 'abcd',\n        maxZoom: 19\n      }).addTo(mapRef.current);\n\n      // Add zoom control to bottom right\n      L.control.zoom({\n        position: 'bottomright'\n      }).addTo(mapRef.current);\n\n      // Add event listener for map clicks\n      mapRef.current.on('click', handleMapClick);\n\n      // Update coordinates and zoom when map is moved\n      mapRef.current.on('moveend', () => {\n        const center = mapRef.current.getCenter();\n        setCoordinates([center.lat, center.lng]);\n        setZoom(mapRef.current.getZoom());\n      });\n\n      // Add initial marker for current location\n      addMarker(coordinates, \"Starting Location\");\n    }\n  }, [isMapLoaded]);\n\n  // Update map view when coordinates or zoom changes\n  useEffect(() => {\n    if (mapRef.current) {\n      mapRef.current.setView(coordinates, zoom);\n    }\n  }, [coordinates, zoom]);\n\n  // Function to add a marker to the map (for Flächenatlas style)\n  const addMarker = (position, popupText) => {\n    if (!mapRef.current || !window.L) return;\n    const L = window.L; // Get Leaflet from window object\n\n    // Create a polygon instead of a standard marker for the Flächenatlas look\n    // Creating a hexagon around the point\n    const radius = 300; // meters\n    const sides = 6;\n    const startAngle = 0;\n    const vertices = [];\n    for (let i = 0; i < sides; i++) {\n      const angle = startAngle + i * 2 * Math.PI / sides;\n      const lat = position[0] + radius / 111000 * Math.cos(angle);\n      const lng = position[1] + radius / (111000 * Math.cos(position[0] * Math.PI / 180)) * Math.sin(angle);\n      vertices.push([lat, lng]);\n    }\n    const areaPolygon = L.polygon(vertices, {\n      color: '#41b6c4',\n      fillColor: '#41b6c4',\n      fillOpacity: 0.3,\n      weight: 2\n    }).addTo(mapRef.current);\n    if (popupText) {\n      areaPolygon.bindPopup(popupText).openPopup();\n    }\n    markersRef.current.push(areaPolygon);\n    return areaPolygon;\n  };\n\n  // Handle map clicks to add area markers (for Flächenatlas style)\n  const handleMapClick = e => {\n    if (!mapRef.current || !window.L) return;\n    const {\n      lat,\n      lng\n    } = e.latlng;\n    const position = [lat, lng];\n\n    // Create a circle to represent an area of interest\n    const L = window.L;\n    const areaCircle = L.circle(position, {\n      radius: 500,\n      // 500 meters radius\n      color: '#3388ff',\n      fillColor: '#3388ff',\n      fillOpacity: 0.2,\n      weight: 2\n    }).addTo(mapRef.current);\n\n    // Add popup with coordinates\n    const popupText = `Area at ${lat.toFixed(4)}, ${lng.toFixed(4)}`;\n    areaCircle.bindPopup(popupText).openPopup();\n\n    // Store the circle in markers reference for later cleanup\n    markersRef.current.push(areaCircle);\n  };\n\n  // Function to clear all markers\n  const clearMarkers = () => {\n    if (mapRef.current) {\n      markersRef.current.forEach(marker => {\n        mapRef.current.removeLayer(marker);\n      });\n      markersRef.current = [];\n    }\n  };\n\n  // Function to navigate to a location\n  const navigateTo = locationKey => {\n    const location = locations[locationKey];\n    setCoordinates(location.center);\n    setZoom(location.zoom);\n\n    // Clear existing markers and add a new one\n    clearMarkers();\n    setTimeout(() => {\n      addMarker(location.center, location.label);\n    }, 100);\n\n    // Auto-close sidebar on mobile after selecting a location\n    if (window.innerWidth < 768) {\n      setIsSidebarOpen(false);\n    }\n  };\n\n  // Toggle sidebar\n  const toggleSidebar = () => {\n    setIsSidebarOpen(!isSidebarOpen);\n  };\n\n  // Add a legend to explain the map elements\n  useEffect(() => {\n    if (isMapLoaded && mapRef.current && window.L) {\n      const L = window.L;\n\n      // Create a legend control\n      const legend = L.control({\n        position: 'bottomright'\n      });\n      legend.onAdd = function () {\n        const div = L.DomUtil.create('div', 'info legend');\n        div.innerHTML = `\n          <div style=\"background-color: white; padding: 10px; border-radius: 5px; box-shadow: 0 1px 5px rgba(0,0,0,0.2);\">\n            <div style=\"margin-bottom: 8px; font-weight: bold;\">Legend</div>\n            <div style=\"display: flex; align-items: center; margin-bottom: 5px;\">\n              <span style=\"display: inline-block; width: 16px; height: 16px; background-color: #41b6c4; opacity: 0.3; border: 2px solid #41b6c4; margin-right: 8px;\"></span>\n              City Marker\n            </div>\n            <div style=\"display: flex; align-items: center;\">\n              <span style=\"display: inline-block; width: 16px; height: 16px; background-color: #3388ff; opacity: 0.2; border: 2px solid #3388ff; margin-right: 8px;\"></span>\n              Clicked Area\n            </div>\n          </div>\n        `;\n        return div;\n      };\n      legend.addTo(mapRef.current);\n      return () => {\n        legend.remove();\n      };\n    }\n  }, [isMapLoaded]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapContainerRef,\n      id: \"map\",\n      style: {\n        height: '100vh',\n        width: '100%'\n      },\n      children: !isMapLoaded && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"Loading map...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"toggle-sidebar-button\",\n      onClick: toggleSidebar,\n      \"aria-label\": \"Toggle city selection\",\n      children: isSidebarOpen ? \"×\" : \"☰\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `sidebar ${isSidebarOpen ? 'open' : ''}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Area Selection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"city-list\",\n          children: Object.keys(locations).map(loc => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigateTo(loc),\n            className: \"city-button\",\n            children: locations[loc].label\n          }, loc, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearMarkers,\n          className: \"clear-button\",\n          children: \"Clear All Areas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '20px',\n        left: '50%',\n        transform: 'translateX(-50%)',\n        zIndex: 2,\n        borderRadius: '8px',\n        overflow: 'hidden',\n        boxShadow: '0 2px 10px rgba(0,0,0,0.2)',\n        display: 'flex'\n      },\n      children: Object.keys(datasetColors).map(dataset => {\n        const isSelected = selectedDataset === dataset;\n        const buttonColor = isSelected ? datasetColors[dataset].primary : 'white';\n        const textColor = isSelected ? 'white' : '#333';\n        const IconComponent = DatasetIcons[dataset];\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDatasetToggle(dataset),\n          style: {\n            padding: '8px 16px',\n            background: buttonColor,\n            color: textColor,\n            border: 'none',\n            cursor: 'pointer',\n            fontWeight: isSelected ? 'bold' : 'normal',\n            transition: 'all 0.3s ease',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(IconComponent, {\n            color: isSelected ? 'white' : datasetColors[dataset].primary,\n            isSelected: isSelected\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this), dataset === 'HS' ? 'Health Score' : dataset === 'LC' ? 'Land Cover' : dataset === 'GP' ? 'Gross Primary Production' : 'Rainfall Precipitation']\n        }, dataset, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"coordinates-display\",\n      children: [coordinates[0].toFixed(4), \", \", coordinates[1].toFixed(4), \" | Zoom: \", zoom]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .map-container {\n          position: relative;\n          width: 100%;\n          height: 100vh;\n          overflow: hidden;\n        }\n\n        .toggle-sidebar-button {\n          position: absolute;\n          top: 20px;\n          left: 20px;\n          z-index: 1000;\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          background-color: #ffffff;\n          color: #333;\n          border: none;\n          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);\n          font-size: 24px;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.3s ease;\n        }\n\n        .toggle-sidebar-button:hover {\n          background-color: #f5f5f5;\n        }\n\n        .sidebar {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 300px;\n          height: 100%;\n          background-color: #ffffff;\n          box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);\n          z-index: 999;\n          transform: translateX(-100%);\n          transition: transform 0.3s ease;\n          overflow-y: auto;\n        }\n\n        .sidebar.open {\n          transform: translateX(0);\n        }\n\n        .sidebar-content {\n          padding: 80px 20px 20px;\n        }\n\n        h2 {\n          margin-bottom: 20px;\n          color: #333;\n          font-size: 24px;\n          text-align: center;\n        }\n\n        .city-list {\n          display: flex;\n          flex-direction: column;\n          gap: 10px;\n          margin-bottom: 30px;\n        }\n\n        .city-button {\n          padding: 12px 15px;\n          border: none;\n          border-radius: 8px;\n          background-color: #f0f2f5;\n          color: #333;\n          font-size: 16px;\n          text-align: left;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .city-button:hover {\n          background-color: #e4e6eb;\n        }\n\n        .clear-button {\n          width: 100%;\n          padding: 12px 15px;\n          border: none;\n          border-radius: 8px;\n          background-color: #f44336;\n          color: white;\n          font-size: 16px;\n          cursor: pointer;\n          transition: background-color 0.2s;\n        }\n\n        .clear-button:hover {\n          background-color: #d32f2f;\n        }\n\n        .loading {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          background-color: rgba(255, 255, 255, 0.8);\n          font-size: 20px;\n          color: #333;\n        }\n\n        .coordinates-display {\n          position: absolute;\n          bottom: 15px;\n          left: 15px;\n          padding: 8px 12px;\n          background-color: rgba(255, 255, 255, 0.8);\n          border-radius: 4px;\n          font-size: 14px;\n          color: #333;\n          z-index: 500;\n          box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n        }\n\n        /* Responsive styles */\n        @media (max-width: 767px) {\n          .sidebar {\n            width: 80%;\n            max-width: 300px;\n          }\n          \n          .toggle-sidebar-button {\n            top: 10px;\n            left: 10px;\n            width: 40px;\n            height: 40px;\n            font-size: 20px;\n          }\n          \n          .coordinates-display {\n            font-size: 12px;\n            padding: 6px 10px;\n          }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 5\n  }, this);\n};\n_s(OpenStreetMap, \"Kq9cOSyn18qyBsw6/nhOvEco2g4=\");\n_c = OpenStreetMap;\nexport default OpenStreetMap;\nvar _c;\n$RefreshReg$(_c, \"OpenStreetMap\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","OpenStreetMap","_s","mapContainerRef","mapRef","markersRef","coordinates","setCoordinates","zoom","setZoom","isMapLoaded","setIsMapLoaded","isSidebarOpen","setIsSidebarOpen","locations","berlin","center","label","bremen","cologne","dortmund","dresden","duisburg","duesseldorf","essen","frankfurt","hamburg","hannover","leipzig","munich","nuremberg","stuttgart","window","L","linkElement","document","createElement","rel","href","integrity","crossOrigin","head","appendChild","scriptElement","src","onload","removeChild","contains","current","remove","map","zoomControl","setView","tileLayer","attribution","subdomains","maxZoom","addTo","control","position","on","handleMapClick","getCenter","lat","lng","getZoom","addMarker","popupText","radius","sides","startAngle","vertices","i","angle","Math","PI","cos","sin","push","areaPolygon","polygon","color","fillColor","fillOpacity","weight","bindPopup","openPopup","e","latlng","areaCircle","circle","toFixed","clearMarkers","forEach","marker","removeLayer","navigateTo","locationKey","location","setTimeout","innerWidth","toggleSidebar","legend","onAdd","div","DomUtil","create","innerHTML","className","children","ref","id","style","height","width","fileName","_jsxFileName","lineNumber","columnNumber","onClick","Object","keys","loc","top","left","transform","zIndex","borderRadius","overflow","boxShadow","display","datasetColors","dataset","isSelected","selectedDataset","buttonColor","primary","textColor","IconComponent","DatasetIcons","handleDatasetToggle","padding","background","border","cursor","fontWeight","transition","alignItems","gap","jsx","_c","$RefreshReg$"],"sources":["C:/Eigene Dateien/Datafest/DataFest_GeoChallenge/openstreetmap-jsx-demo/src/OpenStreetMap.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\n\r\n// Main OpenStreetMap Component\r\nconst OpenStreetMap = () => {\r\n  const mapContainerRef = useRef(null);\r\n  const mapRef = useRef(null);\r\n  const markersRef = useRef([]);\r\n  const [coordinates, setCoordinates] = useState([51.505, -0.09]);\r\n  const [zoom, setZoom] = useState(13);\r\n  const [isMapLoaded, setIsMapLoaded] = useState(false);\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n\r\n  // Predefined locations\r\n  const locations = {\r\n    berlin: { center: [52.5100, 13.4000], zoom: 12, label: \"Berlin\" },\r\n    bremen: { center: [53.075, 8.807], zoom: 13, label: \"Bremen\" },\r\n    cologne: { center: [50.9383, 6.9599], zoom: 12, label: \"Cologne\" },\r\n    dortmund: { center: [51.5142, 7.4652], zoom: 11, label: \"Dortmund\" },\r\n    dresden: { center: [51.0493, 13.7381], zoom: 12, label: \"Dresden\" },\r\n    duisburg: { center: [51.4349, 6.7595], zoom: 13, label: \"Duisburg\" },\r\n    duesseldorf: { center: [51.225, 6.7763], zoom: 13, label: \"Düsseldorf\" },\r\n    essen: { center: [51.4582, 7.0158], zoom: 12, label: \"Essen\" },\r\n    frankfurt: { center: [50.1106, 8.6820], zoom: 11, label: \"Frankfurt\" },\r\n    hamburg: { center: [53.5503, 10.0006], zoom: 12, label: \"Hamburg\" },\r\n    hannover: { center: [52.3744, 9.7385], zoom: 13, label: \"Hannover\" },\r\n    leipzig: { center: [51.3406, 12.3747], zoom: 12, label: \"Leipzig\" },\r\n    munich: { center: [48.1371, 11.5753], zoom: 12, label: \"Munich\" },\r\n    nuremberg: { center: [49.4538, 11.0772], zoom: 12, label: \"Nuremberg\" },\r\n    stuttgart: { center: [48.7784, 9.1800], zoom: 12, label: \"Stuttgart\" }\r\n  };\r\n\r\n  // Load Leaflet scripts and styles\r\n  useEffect(() => {\r\n    // Skip if already loaded\r\n    if (window.L) {\r\n      setIsMapLoaded(true);\r\n      return;\r\n    }\r\n\r\n    // Create link for Leaflet CSS\r\n    const linkElement = document.createElement('link');\r\n    linkElement.rel = 'stylesheet';\r\n    linkElement.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';\r\n    linkElement.integrity = 'sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=';\r\n    linkElement.crossOrigin = '';\r\n    document.head.appendChild(linkElement);\r\n\r\n    // Create script for Leaflet JS\r\n    const scriptElement = document.createElement('script');\r\n    scriptElement.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';\r\n    scriptElement.integrity = 'sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=';\r\n    scriptElement.crossOrigin = '';\r\n    scriptElement.onload = () => {\r\n      setIsMapLoaded(true);\r\n    };\r\n    document.head.appendChild(scriptElement);\r\n\r\n    // Cleanup function\r\n    return () => {\r\n      document.head.removeChild(linkElement);\r\n      if (document.head.contains(scriptElement)) {\r\n        document.head.removeChild(scriptElement);\r\n      }\r\n      if (mapRef.current) {\r\n        mapRef.current.remove();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Initialize map when Leaflet is loaded\r\n  useEffect(() => {\r\n    if (!isMapLoaded || !mapContainerRef.current) return;\r\n\r\n    // Initialize map if not already created\r\n    if (!mapRef.current) {\r\n      const L = window.L; // Get Leaflet from window object\r\n      mapRef.current = L.map(mapContainerRef.current, {\r\n        zoomControl: false // Disable default zoom control to add custom position\r\n      }).setView(coordinates, zoom);\r\n      \r\n      // Add custom tile layer for a cleaner \"Flächenatlas\" style\r\n      L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\r\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\r\n        subdomains: 'abcd',\r\n        maxZoom: 19\r\n      }).addTo(mapRef.current);\r\n\r\n      // Add zoom control to bottom right\r\n      L.control.zoom({\r\n        position: 'bottomright'\r\n      }).addTo(mapRef.current);\r\n\r\n      // Add event listener for map clicks\r\n      mapRef.current.on('click', handleMapClick);\r\n      \r\n      // Update coordinates and zoom when map is moved\r\n      mapRef.current.on('moveend', () => {\r\n        const center = mapRef.current.getCenter();\r\n        setCoordinates([center.lat, center.lng]);\r\n        setZoom(mapRef.current.getZoom());\r\n      });\r\n      \r\n      // Add initial marker for current location\r\n      addMarker(coordinates, \"Starting Location\");\r\n    }\r\n  }, [isMapLoaded]);\r\n\r\n  // Update map view when coordinates or zoom changes\r\n  useEffect(() => {\r\n    if (mapRef.current) {\r\n      mapRef.current.setView(coordinates, zoom);\r\n    }\r\n  }, [coordinates, zoom]);\r\n\r\n  // Function to add a marker to the map (for Flächenatlas style)\r\n  const addMarker = (position, popupText) => {\r\n    if (!mapRef.current || !window.L) return;\r\n    \r\n    const L = window.L; // Get Leaflet from window object\r\n    \r\n    // Create a polygon instead of a standard marker for the Flächenatlas look\r\n    // Creating a hexagon around the point\r\n    const radius = 300; // meters\r\n    const sides = 6;\r\n    const startAngle = 0;\r\n    \r\n    const vertices = [];\r\n    for (let i = 0; i < sides; i++) {\r\n      const angle = startAngle + i * 2 * Math.PI / sides;\r\n      const lat = position[0] + (radius / 111000) * Math.cos(angle);\r\n      const lng = position[1] + (radius / (111000 * Math.cos(position[0] * Math.PI / 180))) * Math.sin(angle);\r\n      vertices.push([lat, lng]);\r\n    }\r\n    \r\n    const areaPolygon = L.polygon(vertices, {\r\n      color: '#41b6c4',\r\n      fillColor: '#41b6c4',\r\n      fillOpacity: 0.3,\r\n      weight: 2\r\n    }).addTo(mapRef.current);\r\n    \r\n    if (popupText) {\r\n      areaPolygon.bindPopup(popupText).openPopup();\r\n    }\r\n    \r\n    markersRef.current.push(areaPolygon);\r\n    return areaPolygon;\r\n  };\r\n\r\n  // Handle map clicks to add area markers (for Flächenatlas style)\r\n  const handleMapClick = (e) => {\r\n    if (!mapRef.current || !window.L) return;\r\n    \r\n    const { lat, lng } = e.latlng;\r\n    const position = [lat, lng];\r\n    \r\n    // Create a circle to represent an area of interest\r\n    const L = window.L;\r\n    const areaCircle = L.circle(position, {\r\n      radius: 500,  // 500 meters radius\r\n      color: '#3388ff',\r\n      fillColor: '#3388ff',\r\n      fillOpacity: 0.2,\r\n      weight: 2\r\n    }).addTo(mapRef.current);\r\n    \r\n    // Add popup with coordinates\r\n    const popupText = `Area at ${lat.toFixed(4)}, ${lng.toFixed(4)}`;\r\n    areaCircle.bindPopup(popupText).openPopup();\r\n    \r\n    // Store the circle in markers reference for later cleanup\r\n    markersRef.current.push(areaCircle);\r\n  };\r\n\r\n  // Function to clear all markers\r\n  const clearMarkers = () => {\r\n    if (mapRef.current) {\r\n      markersRef.current.forEach(marker => {\r\n        mapRef.current.removeLayer(marker);\r\n      });\r\n      markersRef.current = [];\r\n    }\r\n  };\r\n\r\n  // Function to navigate to a location\r\n  const navigateTo = (locationKey) => {\r\n    const location = locations[locationKey];\r\n    setCoordinates(location.center);\r\n    setZoom(location.zoom);\r\n    \r\n    // Clear existing markers and add a new one\r\n    clearMarkers();\r\n    setTimeout(() => {\r\n      addMarker(location.center, location.label);\r\n    }, 100);\r\n\r\n    // Auto-close sidebar on mobile after selecting a location\r\n    if (window.innerWidth < 768) {\r\n      setIsSidebarOpen(false);\r\n    }\r\n  };\r\n\r\n  // Toggle sidebar\r\n  const toggleSidebar = () => {\r\n    setIsSidebarOpen(!isSidebarOpen);\r\n  };\r\n  \r\n  // Add a legend to explain the map elements\r\n  useEffect(() => {\r\n    if (isMapLoaded && mapRef.current && window.L) {\r\n      const L = window.L;\r\n      \r\n      // Create a legend control\r\n      const legend = L.control({position: 'bottomright'});\r\n      \r\n      legend.onAdd = function() {\r\n        const div = L.DomUtil.create('div', 'info legend');\r\n        div.innerHTML = `\r\n          <div style=\"background-color: white; padding: 10px; border-radius: 5px; box-shadow: 0 1px 5px rgba(0,0,0,0.2);\">\r\n            <div style=\"margin-bottom: 8px; font-weight: bold;\">Legend</div>\r\n            <div style=\"display: flex; align-items: center; margin-bottom: 5px;\">\r\n              <span style=\"display: inline-block; width: 16px; height: 16px; background-color: #41b6c4; opacity: 0.3; border: 2px solid #41b6c4; margin-right: 8px;\"></span>\r\n              City Marker\r\n            </div>\r\n            <div style=\"display: flex; align-items: center;\">\r\n              <span style=\"display: inline-block; width: 16px; height: 16px; background-color: #3388ff; opacity: 0.2; border: 2px solid #3388ff; margin-right: 8px;\"></span>\r\n              Clicked Area\r\n            </div>\r\n          </div>\r\n        `;\r\n        return div;\r\n      };\r\n      \r\n      legend.addTo(mapRef.current);\r\n      \r\n      return () => {\r\n        legend.remove();\r\n      };\r\n    }\r\n  }, [isMapLoaded]);\r\n\r\n  return (\r\n    <div className=\"map-container\">\r\n      {/* Map */}\r\n      <div \r\n        ref={mapContainerRef} \r\n        id=\"map\" \r\n        style={{ \r\n          height: '100vh', \r\n          width: '100%',\r\n        }}\r\n      >\r\n        {!isMapLoaded && <div className=\"loading\">Loading map...</div>}\r\n      </div>\r\n\r\n      {/* Toggle button */}\r\n      <button \r\n        className=\"toggle-sidebar-button\"\r\n        onClick={toggleSidebar}\r\n        aria-label=\"Toggle city selection\"\r\n      >\r\n        {isSidebarOpen ? \"×\" : \"☰\"}\r\n\r\n        \r\n      </button>\r\n\r\n      {/* Sidebar */}\r\n      <div className={`sidebar ${isSidebarOpen ? 'open' : ''}`}>\r\n        <div className=\"sidebar-content\">\r\n          <h2>Area Selection</h2>\r\n          <div className=\"city-list\">\r\n            {Object.keys(locations).map(loc => (\r\n              <button\r\n                key={loc}\r\n                onClick={() => navigateTo(loc)}\r\n                className=\"city-button\"\r\n              >\r\n                {locations[loc].label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n          <button onClick={clearMarkers} className=\"clear-button\">\r\n            Clear All Areas\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Dataset Toggle Control */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '20px',\r\n        left: '50%',\r\n        transform: 'translateX(-50%)',\r\n        zIndex: 2,\r\n        borderRadius: '8px',\r\n        overflow: 'hidden',\r\n        boxShadow: '0 2px 10px rgba(0,0,0,0.2)',\r\n        display: 'flex'\r\n      }}>\r\n        {Object.keys(datasetColors).map((dataset) => {\r\n          const isSelected = selectedDataset === dataset;\r\n          const buttonColor = isSelected ? datasetColors[dataset].primary : 'white';\r\n          const textColor = isSelected ? 'white' : '#333';\r\n          const IconComponent = DatasetIcons[dataset];\r\n\r\n          return (\r\n            <button\r\n              key={dataset}\r\n              onClick={() => handleDatasetToggle(dataset)}\r\n              style={{\r\n                padding: '8px 16px',\r\n                background: buttonColor,\r\n                color: textColor,\r\n                border: 'none',\r\n                cursor: 'pointer',\r\n                fontWeight: isSelected ? 'bold' : 'normal',\r\n                transition: 'all 0.3s ease',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '8px'\r\n              }}\r\n            >\r\n              <IconComponent \r\n                color={isSelected ? 'white' : datasetColors[dataset].primary} \r\n                isSelected={isSelected} \r\n              />\r\n              {dataset === 'HS' ? 'Health Score' : \r\n               dataset === 'LC' ? 'Land Cover' : \r\n               dataset === 'GP' ? 'Gross Primary Production' : \r\n               'Rainfall Precipitation'}\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n\r\n\r\n      {/* Coordinates display */}\r\n      <div className=\"coordinates-display\">\r\n        {coordinates[0].toFixed(4)}, {coordinates[1].toFixed(4)} | Zoom: {zoom}\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        .map-container {\r\n          position: relative;\r\n          width: 100%;\r\n          height: 100vh;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .toggle-sidebar-button {\r\n          position: absolute;\r\n          top: 20px;\r\n          left: 20px;\r\n          z-index: 1000;\r\n          width: 50px;\r\n          height: 50px;\r\n          border-radius: 50%;\r\n          background-color: #ffffff;\r\n          color: #333;\r\n          border: none;\r\n          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);\r\n          font-size: 24px;\r\n          cursor: pointer;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .toggle-sidebar-button:hover {\r\n          background-color: #f5f5f5;\r\n        }\r\n\r\n        .sidebar {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          width: 300px;\r\n          height: 100%;\r\n          background-color: #ffffff;\r\n          box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);\r\n          z-index: 999;\r\n          transform: translateX(-100%);\r\n          transition: transform 0.3s ease;\r\n          overflow-y: auto;\r\n        }\r\n\r\n        .sidebar.open {\r\n          transform: translateX(0);\r\n        }\r\n\r\n        .sidebar-content {\r\n          padding: 80px 20px 20px;\r\n        }\r\n\r\n        h2 {\r\n          margin-bottom: 20px;\r\n          color: #333;\r\n          font-size: 24px;\r\n          text-align: center;\r\n        }\r\n\r\n        .city-list {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 10px;\r\n          margin-bottom: 30px;\r\n        }\r\n\r\n        .city-button {\r\n          padding: 12px 15px;\r\n          border: none;\r\n          border-radius: 8px;\r\n          background-color: #f0f2f5;\r\n          color: #333;\r\n          font-size: 16px;\r\n          text-align: left;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n        }\r\n\r\n        .city-button:hover {\r\n          background-color: #e4e6eb;\r\n        }\r\n\r\n        .clear-button {\r\n          width: 100%;\r\n          padding: 12px 15px;\r\n          border: none;\r\n          border-radius: 8px;\r\n          background-color: #f44336;\r\n          color: white;\r\n          font-size: 16px;\r\n          cursor: pointer;\r\n          transition: background-color 0.2s;\r\n        }\r\n\r\n        .clear-button:hover {\r\n          background-color: #d32f2f;\r\n        }\r\n\r\n        .loading {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          width: 100%;\r\n          height: 100%;\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n          background-color: rgba(255, 255, 255, 0.8);\r\n          font-size: 20px;\r\n          color: #333;\r\n        }\r\n\r\n        .coordinates-display {\r\n          position: absolute;\r\n          bottom: 15px;\r\n          left: 15px;\r\n          padding: 8px 12px;\r\n          background-color: rgba(255, 255, 255, 0.8);\r\n          border-radius: 4px;\r\n          font-size: 14px;\r\n          color: #333;\r\n          z-index: 500;\r\n          box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\r\n        }\r\n\r\n        /* Responsive styles */\r\n        @media (max-width: 767px) {\r\n          .sidebar {\r\n            width: 80%;\r\n            max-width: 300px;\r\n          }\r\n          \r\n          .toggle-sidebar-button {\r\n            top: 10px;\r\n            left: 10px;\r\n            width: 40px;\r\n            height: 40px;\r\n            font-size: 20px;\r\n          }\r\n          \r\n          .coordinates-display {\r\n            font-size: 12px;\r\n            padding: 6px 10px;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OpenStreetMap;"],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV,CAAC;AAACpH,EAAA,CAzeID,aAAa;AAAAqJ,EAAA,GAAbrJ,aAAa;AA2enB,eAAeA,aAAa;AAAC,IAAAqJ,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}